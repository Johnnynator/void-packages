# Template file for 'dde-session-ui'
pkgname=dde-session-ui
version=4.9.7
revision=1
build_style=qmake
configure_args="LIB_INSTALL_DIR=/usr/lib"
hostmakedepends="qt5-qmake deepin-gettext-tools pkg-config"
makedepends="lightdm-devel gsettings-qt-devel dde-qt-dbus-factory-devel
 libXtst-devel libXcursor-devel qt5-svg-devel qt5-x11extras-devel
 dtkwidget-devel libglib-devel elogind-devel libXrandr-devel
 xcb-util-wm-devel"
depends="dde-daemon dde-session-ui-dialogs"
short_desc="Deepin Desktop Enviroment Session UI module"
maintainer="John <johnz@posteo.net>"
license="GPL-3.0-or-later"
homepage="https://github.com/linuxdeepin/dde-session-ui"
changelog="https://github.com/linuxdeepin/dde-session-ui/blob/${version}/CHANGELOG.md"
distfiles="https://github.com/linuxdeepin/dde-session-ui/archive/${version}.tar.gz"
checksum=15a2946a2302afba35c352ebfef6908fa81fe67ae296ebe74c1aeac9f4eafba2

lightdm-deepin-greeter_package() {
	short_desc="Light Display Manager greeter for DDE"
	depends="lightdm"
	pkg_install() {
		vmove usr/bin/lightdm-deepin-greeter
		vmove usr/share/xgreeters
	}
}


dde-session-ui-dialogs_package() {
	short_desc+=" - dialogs"
	pkg_install() {
		vmove usr/lib/deepin-daemon
		vmove usr/share/dbus-1/services/com.deepin.dde.WarningDialog.service
		vmove usr/share/dbus-1/services/com.deepin.dde.osd.service
		vmove usr/share/dbus-1/services/com.deepin.dde.welcome.service
	}
}

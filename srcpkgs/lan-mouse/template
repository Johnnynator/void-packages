# Template file for 'lan-mouse'
pkgname=lan-mouse
version=0.5.0
revision=1
build_style=cargo
hostmakedepends="pkg-config glib-devel"
makedepends="libadwaita-devel"
short_desc="Mouse & keyboard sharing via LAN"
maintainer="John <me@johnnynator.dev>"
license="GPL-3.0-or-later"
homepage="https://github.com/feschber/lan-mouse"
distfiles="https://github.com/feschber/lan-mouse/archive/refs/tags/v${version}.tar.gz"
checksum=c26495ad613129a07646462f799fad8c9f7540bd3c03898ede524c8a5259e1f1

export RUST_BACKTRACE=1

if [ "$XBPS_TARGET_WORDSIZE" != 64 ]; then
	broken="Codebase assumes 64bit systems"
fi

post_install() {
	vsconf config.toml
	vinstall lan-mouse.desktop 644 usr/share/applications
	vinstall resources/mouse-icon.svg 644 usr/share/icons/hicolor/scalable/apps
}

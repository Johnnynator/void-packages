# Template file for 'merkuro'
pkgname=merkuro
version=23.08.5
revision=1
build_style=cmake
hostmakedepends="extra-cmake-modules gettext qt5-host-tools qt5-qmake
 kcoreaddons5 kconfig5 kpackage5"
makedepends="qt5-devel qt5-declarative-devel qt5-quickcontrols2-devel
 qt5-svg-devel qt5-location-devel kirigami2-devel kdbusaddons5-devel ki18n5-devel
 kcalendarcore5-devel kconfigwidgets5-devel kwindowsystem-devel kcoreaddons5-devel
 kcontacts5-devel kitemmodels5-devel kxmlgui-devel knotifications5-devel
 kiconthemes5-devel kservice-devel akonadi5-devel akonadi-contacts-devel
 calendarsupport-devel eventviews-devel qqc2-desktop-style-devel kio5-devel
 messagelib-devel mailcommon-devel kirigami-addons"
depends="qqc2-desktop-style kdepim-runtime qt5-location kirigami2>=5.26.0
 kirigami-addons"
checkdepends="dbus kdepim-runtime"
short_desc="Calendar application using Akonadi"
maintainer="Orphaned <orphan@voidlinux.org>"
license="GPL-3.0-or-later"
homepage="https://invent.kde.org/pim/merkuro"
distfiles="${KDE_SITE}/release-service/${version}/src/merkuro-${version}.tar.xz"
checksum=9a5d0ed11985e0fbfdd58d538b8d0fa1c7fd34a5679baa427092ac0439874297

do_check() {
	cd build
	dbus-run-session ctest --output-on-failure --force-new-ctest-process
}

kalendar_package() {
	depends="${sourcepkg}>=${version}_${revision}"
	short_desc+=" - transitional dummy package"
	build_style=meta
}
